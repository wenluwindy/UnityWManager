作者：纹路风

SoundManager说明API

版本：V1.0

<h3>简介</h3>

<b>SoundManager</b>使用时不用挂载任何物体，引用WManager后即可调用播放指定的任意音频。 

<h4>实现原理</h4>

要播放音频时，会创建一个空物体，上方挂载<b>AudioSources</b>组件，所有音频都在这个空物体下播放，同时该空物体切换场景不删除，以保证切换场景仍然有声音，所有创建的声音都会有独一无二的ID，以字典的方式存放在<b>SoundManagerAudio</b>中，方便随时调用。 而只播放一次的播放后会立马删除，不会占用内存。 

<h4>使用注意事项</h4>

使用<b>SoundManager</b>需调用namespace： using WManager; <i>SoundManager</i>这个物体会在第一次调用<b>SoundManager</b>（即第一次播放声音）时创建。 这个新的<b>GameObject</b>保存着使用管理器时生成的所有<b>AudioSource</b>。 不要在<b>SoundManager</b>脚本之外与这些<b>AudioSources</b>交互。否则，大概也许会报错。

<h4>使用范围</h4>

你可以使用4个不同的声音组，<em>OneTime</em>, <em>Effect</em>, <em>FX</em>和<em>Music</em>。每个组都有自己的属性，在这里列出: <table><tbody><tr><th>组名</th><th>能否缓存</th><th>能否循环</th><th>不销毁支持</th><th>淡入支持</th><th>特别说明</th><th>备注</th></tr><tr><th>OneTime</th><td>x</td><td>x</td><td>x</td><td>x</td><td>能够指定并随叫随到的一组<em>AudioMixerGroup</em></td><td>"播放即忘". 调用同一个<em>AudioClip</em>会创建一个新的<em>AudioSource</em>。</td></tr><tr><th>Effect</th><td>✔</td><td>x</td><td>✔</td><td>✔</td><td>x</td><td>经常使用的效果音，如UI。调用同一个<em>AudioClip</em>会重新播放它。</td></tr><tr><th>FX</th><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>x</td><td>适合长时间使用的背景音。调用同一个<em>AudioClip</em>会重新播放它。</td></tr><tr><th>Music</th><td>✔</td><td>✔</td><td>x</td><td>✔</td><td>启动一个新的<em>AudioClip</em>，在转换过程中将正在播放的音乐与新的音频剪辑进行交叉淡入淡出。</td><td>一次只能播放一种音乐。调用同一个<em>AudioClip</em>会重新播放它。</td></tr></tbody></table> 

<h3>静态属性</h3>

<table><tbody><tr><th>名称</th><th>类型</th><th>可访问性</th><th>说明</th></tr><tr><td>AudioMixer</td><td><a href="https://docs.unity3d.com/ScriptReference/Audio.AudioMixerGroup.html" target="_blank">AudioMixerGroup</a></td><td>{get;set;}</td><td><em>可选属性</em> - 默认（全部）的<em>AudioMixer</em>。如果你在这里指定了一个<em>AudioMixer</em>，但在<em>EffectAudioMixer</em>，<em>FxAudioMixer</em>或<em>MusicAudioMixer</em>中没有指定相应的Group，将默认使用这个设置。 </td></tr><tr><td>EffectAudioMixer</td><td><a href="https://docs.unity3d.com/ScriptReference/Audio.AudioMixerGroup.html" target="_blank">AudioMixerGroup</a></td><td>{get;set;}</td><td><em>可选属性</em> - <em>Effect</em>组<em>AudioMixer</em>。你可以在这里指定一个<em>AudioMixer</em>来应用于<em>Effect</em>组。 </td></tr><tr><td>FxAudioMixer</td><td><a href="https://docs.unity3d.com/ScriptReference/Audio.AudioMixerGroup.html" target="_blank">AudioMixerGroup</a></td><td>{get;set;}</td><td><em>可选属性</em> - <em>FX</em>组<em>AudioMixer</em>。你可以在这里指定一个<em>AudioMixer</em>来应用于<em>FX</em>组。 </td></tr><tr><td>MusicAudioMixer</td><td><a href="https://docs.unity3d.com/ScriptReference/Audio.AudioMixerGroup.html" target="_blank">AudioMixerGroup</a></td><td>{get;set;}</td><td><em>可选属性</em> - <em>Music</em>组<em>AudioMixer</em>。你可以在这里指定一个<em>AudioMixer</em>来应用于<em>Music</em>组。 </td></tr><tr><td>MainVolume</td><td>float</td><td>{get;set;}</td><td>设置主音量。它只影响<em>SoundManager</em>管理的<em>AudioSources</em>。它会影响<em>MainEffectVolume</em>、<em>MainFxVolume</em>和<em>MainMusicVolume</em>中音量的最大值。 </td></tr><tr><td>MainEffectVolume</td><td>float</td><td>{get;set;}</td><td>设置<em>Effect</em>组的主音量。</td></tr><tr><td>MainFxVolume</td><td>float</td><td>{get;set;}</td><td>设置<em>FX</em>组的主音量。</td></tr><tr><td>MainMusicVolume</td><td>float</td><td>{get;set;}</td><td>设置<em>Music</em>组的主音量。</td></tr></tbody></table> 

<h3>静态方法</h3>

<ul><li><em>Prepare</em> - 向<em>SoundManager</em>缓存添加一个<em>SoundManagerAudio</em>对象来预加载它并加速第一次调用。</li><li><em>Play</em> -播放<em>AudioClip</em>。如果你不设置选项<em>doNotDestroy</em>为true, <em>AudioSource</em>组件会在<em>AudioClip</em>播放完成后删除自己。 </li><li><em>Pause</em> - 暂停<em>AudioClip</em>。<em>AudioSource</em>仍然存在，直到方法<em>Play</em> 播放指定的<em>SoundManagerAudio</em>被再次调用。 </li><li><em>Stop</em> - 停止<em>AudioClip</em>。 <em>AudioSource</em>组件在指定的淡出时间后删除自身。 </li><li><em>Clear</em> - 从<em>SoundManager</em>游戏对象中清除缓存和<em>AudioSource</em>组件。</li><li><em>Get</em> - 从缓存中返回与指定<em>Id</em>或<em>AudioClip</em>关联的<em>SoundManagerAudio</em>对象。如果搜索没有返回结果，就会弹错。 </li><li><em>Find</em> - 从缓存中返回与指定<em>Id</em>或<em>AudioClip</em>关联的<em>SoundManagerAudio</em>对象。如果搜索没有返回结果，则返回<em>null</em>。 </li></ul><p>★每个方法都可以调用<em>Id</em>、<em>SoundManagerAudio</em>或<em>AudioClip</em>三种参数来使用方法。</p><table><tbody><tr><th>名字</th><th>返回类型</th><th>说明</th></tr><tr><td>PrepareEffect</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>在<em>Effect</em>组下准备一个<em>SoundManagerAudio</em>。</td></tr><tr><td>PrepareFx</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>在<em>FX </em>组下准备一个<em>SoundManagerAudio</em>。</td></tr><tr><td>PrepareMusic</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>在<em>Music </em>组下准备一个<em>SoundManagerAudio</em>。</td></tr><tr><td>PlayEffect</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>在<em>Effect</em>组下播放<em>SoundManagerAudio</em>。如果该组中不存在<em>SoundManagerAudio</em>，则会将其添加到该组中。</td></tr><tr><td>PlayFx</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>在<em>Fx</em>组下播放<em>SoundManagerAudio</em>。如果该组中不存在<em>SoundManagerAudio</em>，则会将其添加到该组中。 </td></tr><tr><td>PlayMusic</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>在<em>Music</em>组下播放<em>SoundManagerAudio</em>。如果该组中不存在<em>SoundManagerAudio</em>，则会将其添加到该组中。</td></tr><tr><td>PlayOnce</td><td>void</td><td>播放<em>AudioClip</em>，并在它完成播放后立即删除它。</td></tr><tr><td>PauseAll</td><td>List&lt;<a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a>&gt;</td><td>暂停所有<em>SoundManager</em>管理的声音。您可以使用返回的列表来回放它们。 </td></tr><tr><td>PauseAllEffect</td><td>List&lt;<a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a>&gt;</td><td>暂停所有<em>Effect</em>。您可以使用返回的列表来回放它们。</td></tr><tr><td>PauseAllFx</td><td>List&lt;<a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a>&gt;</td><td>暂停所有<em>Fx</em>。您可以使用返回的列表来回放它们。</td></tr><tr><td>PauseAllMusic</td><td>List&lt;<a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a>&gt;</td><td>暂停所有<em>Music</em>。您可以使用返回的列表来回放它们。</td></tr><tr><td>PauseEffect</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>暂停指定的<em>Effect</em>。</td></tr><tr><td>PauseFx</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>暂停指定的<em>Fx</em>。</td></tr><tr><td>PauseMusic</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>暂停指定的<em>Music</em>。</td></tr><tr><td>StopAll</td><td>void</td><td>停止所有<em>SoundManager</em>管理的声音。</td></tr><tr><td>StopAllEffect</td><td>void</td><td>停止所有的<em>Effect</em>。</td></tr><tr><td>StopAllFx</td><td>void</td><td>停止所有的<em>Fx</em>。</td></tr><tr><td>StopAllMusic</td><td>void</td><td>停止所有的<em>Music</em>。</td></tr><tr><td>StopEffect</td><td>void</td><td>停止指定的<em>Effect</em>。</td></tr><tr><td>StopFx</td><td>void</td><td>停止指定的<em>Fx</em>。</td></tr><tr><td>StopMusic</td><td>void</td><td>停止指定的<em>Music</em>。</td></tr><tr><td>ClearAll</td><td>void</td><td>清除所有缓存。</td></tr><tr><td>ClearEffect</td><td>void</td><td>清除<em>Effect</em>缓存。</td></tr><tr><td>ClearFx</td><td>void</td><td>清除<em>Fx</em>缓存。</td></tr><tr><td>ClearMusic</td><td>void</td><td>清除<em>Music</em>缓存。</td></tr><tr><td>GetEffect</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>从组<em>Effect</em>的指定参数(<em>AudioClip</em>或<em>id</em>)中获取<em>SoundManagerAudio</em>。如果找不到就会弹错。</td></tr><tr><td>GetFx</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>从组<em>Fx</em>的指定参数(<em>AudioClip</em>或<em>id</em>)中获取<em>SoundManagerAudio</em>。如果找不到就会弹错。</td></tr><tr><td>GetMusic</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>从组<em>Music</em>的指定参数(<em>AudioClip</em>或<em>id</em>)中获取<em>SoundManagerAudio</em>。如果找不到就会弹错。</td></tr><tr><td>FindEffect</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>从组<em>Effect</em>的指定参数(<em>AudioClip</em>或<em>id</em>)中获取<em>SoundManagerAudio</em>。如果找不到则返回<em>null</em>。 </td></tr><tr><td>FindFx</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>从组<em>Fx</em>的指定参数(<em>AudioClip</em>或<em>id</em>)中获取<em>SoundManagerAudio</em>。如果找不到则返回<em>null</em>。 </td></tr><tr><td>FindMusic</td><td><a href="SoundManagerAudio.html" target="_blank">SoundManagerAudio</a></td><td>从组<em>Music</em>的指定参数(<em>AudioClip</em>或<em>id</em>)中获取<em>SoundManagerAudio</em>。如果找不到则返回<em>null</em>。
